{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operativo Asesor - Prospectos Madiautos</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="{% static 'css/style.css' %}" rel="stylesheet"/>

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="/bundles/bootstrap?v=QtxRrbVxHAK-b5ZowWqv6Wt7oUOJAggG80vl1X-EGBM1"></script>

    <script src="/bundles/timepicker?v=SNA17wI1rMl4CP8ayG1ydmEu0eLQfZiFCqPl0hXZpd01"></script>

    <script src="/bundles/sweet?v=ZMOC4FpxSbszBSzdHGvkc9O_scCReJoQ_PgxKeHWirk1"></script>

    <script src="https://use.fontawesome.com/877bbc2081.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>

    <link href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css" rel="stylesheet">

    <script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/export/bootstrap-table-export.min.js"></script>

    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.20.2/dist/extensions/defer-url/bootstrap-table-defer-url.min.js"></script>

    

</head>
<body style="overflow-x: hidden;">
    {% include 'nav.html' %}
    
    <div class="body-content">
        

<input name="__RequestVerificationToken" type="hidden" value="SIychGvtco8K9jGl27-aMr0DCKJra85GMaTB-2NM8zpWHCMmmA8MhCvRRoLtUNoDs6UUQFIGncxJtD92WtmGEuYbbieaA4KESwY5TIHTM4Y1" />    <!--container principal-->
    <div class="main-panel">
        <div class="main-content">
            <div class="content-wrapper">
                <div class="container-fluid">
                    
                        <div id="tabs" style="box-shadow:none;">
                            <div class="card-header border-0" style="background-color: #eee;">
                                <!--<p class="card-category">Recientes</p>-->
                                <div class="row">
                                    <div class="col">
                                        <div class="card-counter danger">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        {{cantidad_no_contactado}}
                                                    </span>
                                                    <a href="#ContactoAsesor" style="color: #ffffff;"><span class="count-name">No contactado</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card-counter bg-primary">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers" style="color:#ffffff";>
                                                        {{cantidad_contactado}}
                                                    </span>
                                                    <a href="#azulado" style="color: #ffffff;"><span class="count-name">Contactado</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card-counter bg-warning">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_seguimiento}}
                                                    </span>
                                                    <a href="#tibias" style="color: #ffffff;"><span class="count-name">Seguimiento</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card-counter success">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        

                                                        
                                                        {{cantidad_anticipo}}
                                                    </span>
                                                    <a href="#anticipo" style="color: #ffffff;"><span class="count-name">Anticipo</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card-counter aqua">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        

                                                        
                                                        {{cantidad_conversion}}
                                                    </span>
                                                    <a href="#calientes" style="color: #ffffff;"><span class="count-name">Conversión</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body border-0" style="background-color: #eee;">
                                <div class="widget-list" id="ContactoAsesor">
                                    <div id="toolbar1">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_no_contactado" name="origen_lead_no_contactado">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_no_contactado %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_no_contactado" name="respuesta_no_contactado">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_no_contactado %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_no_contactado" name="estado_no_contactado">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_no_contactado %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_no_contactado" name="asesor_no_contactado">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_no_contactado %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_no_contactado" name="sala_no_contactado" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_no_contactado %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_no_contactado" name="marca_no_contactado">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_no_contactado %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_no_contactado" name="modelo_no_contactado">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_no_contactado %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_no_contactado" id="desde_no_contactado" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_no_contactado" id="hasta_no_contactado" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_no_contactado();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div> 
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Cliente / Teléfono" id="search_no_contactado" name="search_no_contactado">
                                                </div>
                                            </div>
                                        </div>

                                        
                                    </div>
                                    <table id="tableF"
                                           {% if user.groups.get|stringformat:"s" == "Admin" and user.username != "fmarron" %}
                                           data-show-export="true"
                                           {% endif %}    
                                           data-toolbar="#toolbar1"
                                           data-pagination="true"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-paging="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 danger">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Mar ca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_no_contactado %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_no_contactado">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_no_contactado();">‹</button>
                                            </li>
                                            <li id="page{{pages_no_contactado}}_no_contactado" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_no_contactado}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado}});">{{pages_no_contactado}}</button>
                                            </li>
                                            <li id="page{{pages_no_contactado|add:1}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_no_contactado|add:1}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado|add:1}});">{{pages_no_contactado|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_no_contactado|add:2}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_no_contactado|add:2}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado|add:2}});">{{pages_no_contactado|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_no_contactado|add:3}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_no_contactado|add:3}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado|add:3}});">{{pages_no_contactado|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_no_contactado|add:4}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_no_contactado|add:4}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado|add:4}});">{{pages_no_contactado|add:4}}</button>
                                            </li>
                                            <li id="not_page2_no_contactado" class="page-item disabled">
                                                <button id="not_button2_no_contactado" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_no_contactado_pag}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_no_contactado_pag}}_no_contactado" onclick="cambiar_ultima_pagina_no_contactado({{cantidad_no_contactado_pag}});">{{cantidad_no_contactado_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_no_contactado">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_no_contactado();">›</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="azulado">
                                    <div id="toolbar2">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_contactado" name="origen_lead_contactado">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_contactado %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_contactado" name="respuesta_contactado">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_contactado %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_contactado" name="estado_contactado">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_contactado %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_contactado" name="asesor_contactado">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_contactado %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_contactado" name="sala_contactado" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_contactado %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_contactado" name="marca_contactado">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_contactado %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_contactado" name="modelo_contactado">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_contactado %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_contactado" id="desde_contactado" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_contactado" id="hasta_contactado" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_contactado();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Cliente / Teléfono" id="search_contactado" name="search_contactado">
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <table id="tableT"
                                    {% if user.username == "admin" %}
                                    data-show-export="true"
                                    {% endif %}   
                                           data-toolbar="#toolbar2"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-pagination="true"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 primary" style="color: white;">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Marca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_contactado %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_contactado">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_contactado();">‹</button>
                                            </li>
                                            <li id="page{{pages_contactado}}_contactado" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_contactado}}_contactado" onclick="cambiar_pagina_contactado({{pages_contactado}});">{{pages_contactado}}</button>
                                            </li>
                                            <li id="page{{pages_contactado|add:1}}_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_contactado|add:1}}_contactado" onclick="cambiar_pagina_contactado({{pages_contactado|add:1}});">{{pages_contactado|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_contactado|add:2}}_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_contactado|add:2}}_contactado" onclick="cambiar_pagina_contactado({{pages_contactado|add:2}});">{{pages_contactado|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_contactado|add:3}}_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_contactado|add:3}}_contactado" onclick="cambiar_pagina_contactado({{pages_contactado|add:3}});">{{pages_contactado|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_contactado|add:4}}_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_contactado|add:4}}_contactado" onclick="cambiar_pagina_contactado({{pages_contactado|add:4}});">{{pages_contactado|add:4}}</button>
                                            </li>
                                            <li id="not_page2_contactado" class="page-item disabled">
                                                <button id="not_button2_contactado" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_contactado_pag}}_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_contactado_pag}}_contactado" onclick="cambiar_ultima_pagina_contactado({{cantidad_contactado_pag}});">{{cantidad_contactado_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_contactado">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_contactado();">›</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="tibias">
                                    <div id="toolbar3">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_seguimiento" name="origen_lead_seguimiento">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_seguimiento %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_seguimiento" name="respuesta_seguimiento">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_seguimiento %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_seguimiento" name="estado_seguimiento">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_seguimiento %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_seguimiento" name="asesor_seguimiento">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_seguimiento %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_seguimiento" name="sala_seguimiento" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_seguimiento %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_seguimiento" name="marca_seguimiento">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_seguimiento %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_seguimiento" name="modelo_seguimiento">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_seguimiento %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_seguimiento" id="desde_seguimiento" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_seguimiento" id="hasta_seguimiento" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_seguimiento();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Cliente / Teléfono" id="search_seguimiento" name="search_seguimiento">
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <table id="tableO"
                                            {% if user.username == "admin" %}
                                            data-show-export="true"
                                            {% endif %}   
                                           data-toolbar="#toolbar3"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-pagination="true"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 warning" style="color: white;">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Marca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_seguimiento %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_seguimiento">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_seguimiento();">‹</button>
                                            </li>
                                            <li id="page{{pages_seguimiento}}_seguimiento" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_seguimiento}}_seguimiento" onclick="cambiar_pagina_seguimiento({{pages_seguimiento}});">{{pages_seguimiento}}</button>
                                            </li>
                                            <li id="page{{pages_seguimiento|add:1}}_seguimiento" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_seguimiento|add:1}}_seguimiento" onclick="cambiar_pagina_seguimiento({{pages_seguimiento|add:1}});">{{pages_seguimiento|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_seguimiento|add:2}}_seguimiento" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_seguimiento|add:2}}_seguimiento" onclick="cambiar_pagina_seguimiento({{pages_seguimiento|add:2}});">{{pages_seguimiento|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_seguimiento|add:3}}_seguimiento" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_seguimiento|add:3}}_seguimiento" onclick="cambiar_pagina_seguimiento({{pages_seguimiento|add:3}});">{{pages_seguimiento|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_seguimiento|add:4}}_seguimiento" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_seguimiento|add:4}}_seguimiento" onclick="cambiar_pagina_seguimiento({{pages_seguimiento|add:4}});">{{pages_seguimiento|add:4}}</button>
                                            </li>
                                            <li id="not_page2_seguimiento" class="page-item disabled">
                                                <button id="not_button2_seguimiento" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_seguimiento_pag}}_seguimiento" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_seguimiento_pag}}_seguimiento" onclick="cambiar_ultima_pagina_seguimiento({{cantidad_seguimiento_pag}});">{{cantidad_seguimiento_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_seguimiento">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_seguimiento();">›</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="anticipo">
                                    <div id="toolbar4">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_anticipo" name="origen_lead_anticipo">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_anticipo %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_anticipo" name="respuesta_anticipo">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_anticipo %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_anticipo" name="estado_anticipo">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_anticipo %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_anticipo" name="asesor_anticipo">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_anticipo %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_anticipo" name="sala_anticipo" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_anticipo %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_anticipo" name="marca_anticipo">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_anticipo %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_anticipo" name="modelo_anticipo">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_anticipo %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_anticipo" id="desde_anticipo" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_anticipo" id="hasta_anticipo" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_anticipo();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Cliente / Teléfono" id="search_anticipo" name="search_anticipo">
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <table id="tableP"
                                            {% if user.username == "admin" %}
                                            data-show-export="true"
                                            {% endif %}   
                                           data-toolbar="#toolbar4"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-pagination="true"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 success" style="color: white;">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Marca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_anticipo %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_anticipo">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_anticipo();">‹</button>
                                            </li>
                                            <li id="page{{pages_anticipo}}_anticipo" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_anticipo}}_anticipo" onclick="cambiar_pagina_anticipo({{pages_anticipo}});">{{pages_anticipo}}</button>
                                            </li>
                                            <li id="page{{pages_anticipo|add:1}}_anticipo" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_anticipo|add:1}}_anticipo" onclick="cambiar_pagina_anticipo({{pages_anticipo|add:1}});">{{pages_anticipo|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_anticipo|add:2}}_anticipo" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_anticipo|add:2}}_anticipo" onclick="cambiar_pagina_anticipo({{pages_anticipo|add:2}});">{{pages_anticipo|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_anticipo|add:3}}_anticipo" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_anticipo|add:3}}_anticipo" onclick="cambiar_pagina_anticipo({{pages_anticipo|add:3}});">{{pages_anticipo|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_anticipo|add:4}}_anticipo" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_anticipo|add:4}}_anticipo" onclick="cambiar_pagina_anticipo({{pages_anticipo|add:4}});">{{pages_anticipo|add:4}}</button>
                                            </li>
                                            <li id="not_page2_anticipo" class="page-item disabled">
                                                <button id="not_button2_anticipo" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_anticipo_pag}}_anticipo" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_anticipo_pag}}_anticipo" onclick="cambiar_ultima_pagina_anticipo({{cantidad_anticipo_pag}});">{{cantidad_anticipo_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_anticipo">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_anticipo();">›</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="calientes">
                                    <div id="toolbar4">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_conversion" name="origen_lead_conversion">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_conversion %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_conversion" name="respuesta_conversion">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_conversion %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_conversion" name="estado_conversion">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_conversion %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_conversion" name="asesor_conversion">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_conversion %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_conversion" name="sala_conversion" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_conversion %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_conversion" name="marca_conversion">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_conversion %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_conversion" name="modelo_conversion">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_conversion %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_conversion" id="desde_conversion" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_conversion" id="hasta_conversion" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_conversion();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Cliente / Teléfono" id="search_conversion" name="search_conversion">
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <table id="tableP"
                                            {% if user.username == "admin" %}
                                            data-show-export="true"
                                            {% endif %}   
                                           data-toolbar="#toolbar4"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-pagination="true"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 success" style="color: white;">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Marca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_conversion %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_conversion">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_conversion();">‹</button>
                                            </li>
                                            <li id="page{{pages_conversion}}_conversion" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_conversion}}_conversion" onclick="cambiar_pagina_conversion({{pages_conversion}});">{{pages_conversion}}</button>
                                            </li>
                                            <li id="page{{pages_conversion|add:1}}_conversion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_conversion|add:1}}_conversion" onclick="cambiar_pagina_conversion({{pages_conversion|add:1}});">{{pages_conversion|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_conversion|add:2}}_conversion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_conversion|add:2}}_conversion" onclick="cambiar_pagina_conversion({{pages_conversion|add:2}});">{{pages_conversion|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_conversion|add:3}}_conversion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_conversion|add:3}}_conversion" onclick="cambiar_pagina_conversion({{pages_conversion|add:3}});">{{pages_conversion|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_conversion|add:4}}_conversion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_conversion|add:4}}_conversion" onclick="cambiar_pagina_conversion({{pages_conversion|add:4}});">{{pages_conversion|add:4}}</button>
                                            </li>
                                            <li id="not_page2_conversion" class="page-item disabled">
                                                <button id="not_button2_conversion" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_conversion_pag}}_conversion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_conversion_pag}}_conversion" onclick="cambiar_ultima_pagina_conversion({{cantidad_conversion_pag}});">{{cantidad_conversion_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_conversion">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_conversion();">›</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<script>
    $(document).ready(function () {

        document.location.hash = "#ContactoAsesor";

      $('#dtBasicExample').DataTable( {
          "scrollY":        "300px",
          "scrollCollapse": true,
          "paging":         false
      });

      $.datetimepicker.setLocale('es');

      $('.rangos').datetimepicker({
          format: 'd/m/Y',
          timepicker: false
      });

      

      $("#rContAsesor").click(function (event) {
          $('#ContAsesor_Desde').val('');
          $('#ContAsesor_Hasta').val('');
          getDataCA(1, 10);
      })

      $("#rT").click(function (event) {
          $('#tableT').bootstrapTable('refresh');
      })

      $("#rC").click(function (event) {
          $('#tableC').bootstrapTable('refresh');
      })
  } );
</script>
<script>

    var if_filtrar_no_contactado = false;
    var rango_pagina_no_contactado = 1;
    var pagina_actual_no_contactado = 1;
    var cantidad_no_contactado_pag = {{cantidad_no_contactado_pag}};

    function filtrar_informacion_no_contactado(){
        var origen_lead_no_contactado = $("#origen_lead_no_contactado").val();
        var respuesta_no_contactado = $("#respuesta_no_contactado").val();
        var estado_no_contactado = $("#estado_no_contactado").val();
        var asesor_no_contactado = $("#asesor_no_contactado").val();
        var sala_no_contactado = $("#sala_no_contactado").val();
        var marca_no_contactado = $("#marca_no_contactado").val();
        var modelo_no_contactado = $("#modelo_no_contactado").val();
        var desde_no_contactado = $("#desde_no_contactado").val();
        var hasta_no_contactado = $("#hasta_no_contactado").val();
        var search_no_contactado = $("#search_no_contactado").val();

        data = {}
        data.if_filtrar_no_contactado = if_filtrar_no_contactado
        data.filtrar_no_contactado = true
        data.origen_lead_no_contactado = origen_lead_no_contactado
        data.respuesta_no_contactado = respuesta_no_contactado
        data.estado_no_contactado = estado_no_contactado
        data.asesor_no_contactado = asesor_no_contactado
        data.sala_no_contactado = sala_no_contactado
        data.marca_no_contactado = marca_no_contactado
        data.modelo_no_contactado = modelo_no_contactado
        data.desde_no_contactado = desde_no_contactado
        data.hasta_no_contactado = hasta_no_contactado
        data.search_no_contactado = search_no_contactado

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableF > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var marca = "";
                        var modelo = "";
                        {% for mostrado in mostrado_marcas %} 
                        if({{mostrado.lead}} == lead.id) { 
                            marca=`{{mostrado.marca}}`; 
                            modelo=`{{mostrado.modelo}}`; 
                        }
                        {% endfor %}
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + marca + `</td>`;
                            fila+=`<td>` + modelo + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                        $('#tableF > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_no_contactado_pag + "_no_contactado").hide()
                        }
                        else {
                            $("#page" + cantidad_no_contactado_pag + "_no_contactado").show()
                            $("#page" + cantidad_no_contactado_pag + "_no_contactado").attr("id","page" + lead + "_no_contactado");
                            $("#page" + lead + "_no_contactado").removeClass("active");
                            $("#button" + cantidad_no_contactado_pag + "_no_contactado").attr("onclick","cambiar_ultima_pagina_no_contactado(" + lead + ");");
                            $("#button" + cantidad_no_contactado_pag + "_no_contactado").text(lead);
                            $("#button" + cantidad_no_contactado_pag + "_no_contactado").attr("id","button" + lead + "_no_contactado");
                            cantidad_no_contactado_pag = lead;
                        }
                    }
                })
                if_filtrar_no_contactado = true;
                if ($("#not_page1_no_contactado").length > 0){
                    max_pag = (rango_pagina_no_contactado * 5) + 1
                    min_pag = (rango_pagina_no_contactado * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_no_contactado"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_no_contactado"
                    button = "#button1_no_contactado"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_no_contactado(1);");
                    pagina_actual_no_contactado = 1;
                    rango_pagina_no_contactado = 1
                    new_max_pag = (rango_pagina_no_contactado * 5) + 1

                    $("#button_avanzar_no_contactado").removeClass("disabled");
                    $("#button_retrasar_no_contactado").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"

                            if (cantidad_no_contactado_pag != 1){
                                $(page).show();
                                $(page).attr("id","page" + cantidad_no_contactado_pag + "_no_contactado");
                                $(button).attr("onclick","cambiar_ultima_pagina_no_contactado(" + cantidad_no_contactado_pag + ");");
                                $(button).text("" + cantidad_no_contactado_pag + "");
                                $(button).attr("id","button" + cantidad_no_contactado_pag + "_no_contactado");
                            }
                            else {
                                $(page).hide()
                            }
                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"

                            $(page).attr("id","not_page2_no_contactado");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_no_contactado");
                            $("#not_page2_no_contactado").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_no_contactado"
                            button = "#not_button1_no_contactado"
                    
                            $(page).attr("id","page2_no_contactado");
                            $(button).attr("onclick","cambiar_pagina_no_contactado(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_no_contactado");
                            $("#page2_no_contactado").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"
                    
                            $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                            $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                            
                            if (pagina_posterior == pagina_actual_no_contactado){
                                $("#page" + pagina_posterior + "_no_contactado").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_no_contactado * 5) + 1
                    min_pag = (rango_pagina_no_contactado * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_no_contactado"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_no_contactado = 1;

                    rango_pagina_no_contactado = 1
                    new_max_pag = (rango_pagina_no_contactado * 5) + 1

                    $("#button_avanzar_no_contactado").removeClass("disabled");
                    $("#button_retrasar_no_contactado").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"
                    
                            $(page).attr("id","page1_no_contactado");
                            $(button).attr("onclick","cambiar_pagina_no_contactado(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_no_contactado");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"
                    
                            $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                            $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                            
                            if (pagina_posterior == pagina_actual_no_contactado){
                                $("#page" + pagina_posterior + "_no_contactado").addClass("active");
                            }
                        }
                    }
                    page = "#page1_no_contactado"
                    $(page).addClass("active");
                }
            }
          })
    }

    function retrasar_paginas_no_contactado(){
        max_pag = Math.round((rango_pagina_no_contactado * 5))
        max_pag_for = (rango_pagina_no_contactado * 5) + 1
        min_pag = (rango_pagina_no_contactado * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_no_contactado"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_no_contactado"
            button = "#button" + pagina_anterior + "_no_contactado"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_no_contactado");
            $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_no_contactado");

            if (pagina_posterior == pagina_actual_no_contactado){
                $("#page" + pagina_posterior + "_no_contactado").addClass("active");
            }
            
        }
        rango_pagina_no_contactado = parseFloat((rango_pagina_no_contactado - 1).toFixed(2));
        console.log("rango_pagina_no_contactado")
        console.log(rango_pagina_no_contactado)
        if (rango_pagina_no_contactado == 1){
            console.log("ssssssss")
            $("#button_retrasar_no_contactado").addClass("disabled");
        }
        else if ($("#not_page1_no_contactado").length > 0 && rango_pagina_no_contactado >= 1 && rango_pagina_no_contactado < 3) {
            console.log("s")
            $("#button_retrasar_no_contactado").addClass("disabled");
        }
        else if (rango_pagina_no_contactado == Math.round(((cantidad_no_contactado_pag) / 5))){
            $("#button_avanzar_no_contactado").addClass("disabled");
        }
        else if (rango_pagina_no_contactado == (cantidad_no_contactado_pag) / 5){
            $("#button_avanzar_no_contactado").addClass("disabled");
        }
        else {
            console.log("ssas")
            $("#button_retrasar_no_contactado").removeClass("disabled");
            $("#button_avanzar_no_contactado").removeClass("disabled");
        }
    }

    function avanzar_paginas_no_contactado(){
        max_pag = Math.round((rango_pagina_no_contactado * 5))
        max_pag_for = (rango_pagina_no_contactado * 5) + 1
        min_pag = (rango_pagina_no_contactado * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_no_contactado"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_no_contactado"
            button = "#button" + pagina_anterior + "_no_contactado"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_no_contactado");
            $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_no_contactado");

            if (pagina_posterior == pagina_actual_no_contactado){
                $("#page" + pagina_posterior + "_no_contactado").addClass("active");
            }

            
        }
        rango_pagina_no_contactado = parseFloat((rango_pagina_no_contactado + 1).toFixed(2));
        if (rango_pagina_no_contactado == 1){
            $("#button_retrasar_no_contactado").addClass("disabled");
        }
        else if ($("#not_page1_no_contactado").length > 0 && rango_pagina_no_contactado >= 1 && rango_pagina_no_contactado < 3) {
            $("#button_retrasar_no_contactado").addClass("disabled");
        }
        else if (rango_pagina_no_contactado == Math.round(((cantidad_no_contactado_pag) / 5))){
            $("#button_avanzar_no_contactado").addClass("disabled");
        }
        else if (rango_pagina_no_contactado == (cantidad_no_contactado_pag) / 5){
            $("#button_avanzar_no_contactado").addClass("disabled");
        }
        else {
            $("#button_retrasar_no_contactado").removeClass("disabled");
            $("#button_avanzar_no_contactado").removeClass("disabled");
        }

    }

    function cambiar_pagina_no_contactado(pagina){

        var origen_lead_no_contactado = $("#origen_lead_no_contactado").val();
        var respuesta_no_contactado = $("#respuesta_no_contactado").val();
        var estado_no_contactado = $("#estado_no_contactado").val();
        var asesor_no_contactado = $("#asesor_no_contactado").val();
        var sala_no_contactado = $("#sala_no_contactado").val();
        var marca_no_contactado = $("#marca_no_contactado").val();
        var modelo_no_contactado = $("#modelo_no_contactado").val();
        var desde_no_contactado = $("#desde_no_contactado").val();
        var hasta_no_contactado = $("#hasta_no_contactado").val();
        var search_no_contactado = $("#search_no_contactado").val();

        data = {}
        data.if_filtrar_no_contactado = if_filtrar_no_contactado
        data.pages_no_contactado = pagina
        data.origen_lead_no_contactado = origen_lead_no_contactado
        data.respuesta_no_contactado = respuesta_no_contactado
        data.estado_no_contactado = estado_no_contactado
        data.asesor_no_contactado = asesor_no_contactado
        data.sala_no_contactado = sala_no_contactado
        data.marca_no_contactado = marca_no_contactado
        data.modelo_no_contactado = modelo_no_contactado
        data.desde_no_contactado = desde_no_contactado
        data.hasta_no_contactado = hasta_no_contactado
        data.search_no_contactado = search_no_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableF > tbody').empty();
                max_pag = (rango_pagina_no_contactado * 5) + 1
                min_pag = (rango_pagina_no_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>` + marca + `</td>`;
                    fila+=`<td>` + modelo + `</td>`;
                    fila+=`<td>` + lead.origen_lead + `</td>`;
                    fila+=`<td>` + lead.respuesta + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableF > tbody').append(fila);
                })
                page = "#page" + pagina + "_no_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_no_contactado"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_no_contactado = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_no_contactado(pagina){

        var origen_lead_no_contactado = $("#origen_lead_no_contactado").val();
        var respuesta_no_contactado = $("#respuesta_no_contactado").val();
        var estado_no_contactado = $("#estado_no_contactado").val();
        var asesor_no_contactado = $("#asesor_no_contactado").val();
        var sala_no_contactado = $("#sala_no_contactado").val();
        var marca_no_contactado = $("#marca_no_contactado").val();
        var modelo_no_contactado = $("#modelo_no_contactado").val();
        var desde_no_contactado = $("#desde_no_contactado").val();
        var hasta_no_contactado = $("#hasta_no_contactado").val();
        var search_no_contactado = $("#search_no_contactado").val();

        data = {}
        data.pages_no_contactado = pagina
        data.if_filtrar_no_contactado = if_filtrar_no_contactado
        data.pages_no_contactado = pagina
        data.origen_lead_no_contactado = origen_lead_no_contactado
        data.respuesta_no_contactado = respuesta_no_contactado
        data.estado_no_contactado = estado_no_contactado
        data.asesor_no_contactado = asesor_no_contactado
        data.sala_no_contactado = sala_no_contactado
        data.marca_no_contactado = marca_no_contactado
        data.modelo_no_contactado = modelo_no_contactado
        data.desde_no_contactado = desde_no_contactado
        data.hasta_no_contactado = hasta_no_contactado
        data.search_no_contactado = search_no_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableF > tbody').empty();
                max_pag = (rango_pagina_no_contactado * 5) + 1
                min_pag = (rango_pagina_no_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableF > tbody').append(fila);
                })
                page = "#page" + pagina + "_no_contactado"
                button = "#button" + pagina + "_no_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_no_contactado"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina + ");");
                pagina_actual_no_contactado = pagina;

                rango_pagina_no_contactado = (cantidad_no_contactado_pag) / 5
                new_max_pag = (rango_pagina_no_contactado * 5) + 1
                $("#button_retrasar_no_contactado").removeClass("disabled");
                $("#button_avanzar_no_contactado").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_no_contactado"
                        button = "#not_button2_no_contactado"

                        $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                        $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                        $("#page" + pagina_posterior + "_no_contactado").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"
                
                        $(page).attr("id","not_page1_no_contactado");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_no_contactado");
                        $("#not_page1_no_contactado").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"
                
                        $(page).attr("id","page1_no_contactado");
                        $(button).attr("onclick","cambiar_primera_pagina_no_contactado(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_no_contactado");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"
                
                        $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                        $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                        
                        if (pagina_posterior == pagina_actual_no_contactado){
                            $("#page" + pagina_posterior + "_no_contactado").addClass("active");
                        }
                    }
                }
                if (rango_pagina_no_contactado == 1){
                    $("#button_retrasar_no_contactado").addClass("disabled");
                }
                else if ($("#not_page1_no_contactado").length > 0 && rango_pagina_no_contactado >= 1 && rango_pagina_no_contactado < 3) {
                    $("#button_retrasar_no_contactado").addClass("disabled");
                }
                else if (rango_pagina_no_contactado == Math.round(((cantidad_no_contactado_pag) / 5))){
                    $("#button_avanzar_no_contactado").addClass("disabled");
                }
                else if (rango_pagina_no_contactado == (cantidad_no_contactado_pag) / 5){
                    $("#button_avanzar_no_contactado").addClass("disabled");
                }
                else {
                    $("#button_retrasar_no_contactado").removeClass("disabled");
                    $("#button_avanzar_no_contactado").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_no_contactado(pagina){

        var origen_lead_no_contactado = $("#origen_lead_no_contactado").val();
        var respuesta_no_contactado = $("#respuesta_no_contactado").val();
        var estado_no_contactado = $("#estado_no_contactado").val();
        var asesor_no_contactado = $("#asesor_no_contactado").val();
        var sala_no_contactado = $("#sala_no_contactado").val();
        var marca_no_contactado = $("#marca_no_contactado").val();
        var modelo_no_contactado = $("#modelo_no_contactado").val();
        var desde_no_contactado = $("#desde_no_contactado").val();
        var hasta_no_contactado = $("#hasta_no_contactado").val();
        var search_no_contactado = $("#search_no_contactado").val();

        data = {}
        data.pages_no_contactado = pagina
        data.if_filtrar_no_contactado = if_filtrar_no_contactado
        data.pages_no_contactado = pagina
        data.origen_lead_no_contactado = origen_lead_no_contactado
        data.respuesta_no_contactado = respuesta_no_contactado
        data.estado_no_contactado = estado_no_contactado
        data.asesor_no_contactado = asesor_no_contactado
        data.sala_no_contactado = sala_no_contactado
        data.marca_no_contactado = marca_no_contactado
        data.modelo_no_contactado = modelo_no_contactado
        data.desde_no_contactado = desde_no_contactado
        data.hasta_no_contactado = hasta_no_contactado
        data.search_no_contactado = search_no_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableF > tbody').empty();
                max_pag = (rango_pagina_no_contactado * 5) + 1
                min_pag = (rango_pagina_no_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableF > tbody').append(fila);
                })
                page = "#page" + pagina + "_no_contactado"
                button = "#button" + pagina + "_no_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_no_contactado"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_no_contactado(1);");
                pagina_actual_no_contactado = pagina;

                rango_pagina_no_contactado = 1
                new_max_pag = (rango_pagina_no_contactado * 5) + 1
                $("#button_avanzar_no_contactado").removeClass("disabled");
                $("#button_retrasar_no_contactado").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    console.log("i")
                    console.log(i)
                    console.log("pagina_anterior")
                    console.log(pagina_anterior)
                    console.log("pagina_posterior")
                    console.log(pagina_posterior)
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"

                        $(page).attr("id","page" + cantidad_no_contactado_pag + "_no_contactado");
                        $(button).attr("onclick","cambiar_ultima_pagina_no_contactado(" + cantidad_no_contactado_pag + ");");
                        $(button).text("" + cantidad_no_contactado_pag + "");
                        $(button).attr("id","button" + cantidad_no_contactado_pag + "_no_contactado");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"

                        $(page).attr("id","not_page2_no_contactado");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_no_contactado");
                        $("#not_page2_no_contactado").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_no_contactado"
                        button = "#not_button1_no_contactado"
                
                        $(page).attr("id","page2_no_contactado");
                        $(button).attr("onclick","cambiar_pagina_no_contactado(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_no_contactado");
                        $("#page2_no_contactado").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"
                
                        $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                        $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                        
                        if (pagina_posterior == pagina_actual_no_contactado){
                            $("#page" + pagina_posterior + "_no_contactado").addClass("active");
                        }
                    }
                }
              }
          })

    }
























    

    







    var if_filtrar_contactado = false;
    var rango_pagina_contactado = 1;
    var pagina_actual_contactado = 1;
    var cantidad_contactado_pag = {{cantidad_contactado_pag}};

    function filtrar_informacion_contactado(){
        var origen_lead_contactado = $("#origen_lead_contactado").val();
        var respuesta_contactado = $("#respuesta_contactado").val();
        var estado_contactado = $("#estado_contactado").val();
        var asesor_contactado = $("#asesor_contactado").val();
        var sala_contactado = $("#sala_contactado").val();
        var marca_contactado = $("#marca_contactado").val();
        var modelo_contactado = $("#modelo_contactado").val();
        var desde_contactado = $("#desde_contactado").val();
        var hasta_contactado = $("#hasta_contactado").val();
        var search_contactado = $("#search_contactado").val();

        data = {}
        data.if_filtrar_contactado = if_filtrar_contactado
        data.filtrar_contactado = true
        data.origen_lead_contactado = origen_lead_contactado
        data.respuesta_contactado = respuesta_contactado
        data.estado_contactado = estado_contactado
        data.asesor_contactado = asesor_contactado
        data.sala_contactado = sala_contactado
        data.marca_contactado = marca_contactado
        data.modelo_contactado = modelo_contactado
        data.desde_contactado = desde_contactado
        data.hasta_contactado = hasta_contactado
        data.search_contactado = search_contactado

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableT > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var marca = "";
                        var modelo = "";
                        {% for mostrado in mostrado_marcas %} 
                        if({{mostrado.lead}} == lead.id) { 
                            marca=`{{mostrado.marca}}`; 
                            modelo=`{{mostrado.modelo}}`; 
                        }
                        {% endfor %}
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + marca + `</td>`;
                            fila+=`<td>` + modelo + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                        $('#tableT > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_contactado_pag + "_contactado").hide()
                        }
                        else {
                            $("#page" + cantidad_contactado_pag + "_contactado").show()
                            $("#page" + cantidad_contactado_pag + "_contactado").attr("id","page" + lead + "_contactado");
                            $("#page" + lead + "_contactado").removeClass("active");
                            $("#button" + cantidad_contactado_pag + "_contactado").attr("onclick","cambiar_ultima_pagina_contactado(" + lead + ");");
                            $("#button" + cantidad_contactado_pag + "_contactado").text(lead);
                            $("#button" + cantidad_contactado_pag + "_contactado").attr("id","button" + lead + "_contactado");
                            cantidad_contactado_pag = lead;
                        }
                    }
                })
                if_filtrar_contactado = true;
                if ($("#not_page1_contactado").length > 0){
                    max_pag = (rango_pagina_contactado * 5) + 1
                    min_pag = (rango_pagina_contactado * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_contactado"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_contactado"
                    button = "#button1_contactado"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_contactado(1);");
                    pagina_actual_contactado = 1;
                    rango_pagina_contactado = 1
                    new_max_pag = (rango_pagina_contactado * 5) + 1

                    $("#button_avanzar_contactado").removeClass("disabled");
                    $("#button_retrasar_contactado").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_contactado"
                            button = "#button" + pagina_anterior + "_contactado"

                            $(page).attr("id","page" + cantidad_contactado_pag + "_contactado");
                            $(button).attr("onclick","cambiar_ultima_pagina_contactado(" + cantidad_contactado_pag + ");");
                            $(button).text("" + cantidad_contactado_pag + "");
                            $(button).attr("id","button" + cantidad_contactado_pag + "_contactado");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_contactado"
                            button = "#button" + pagina_anterior + "_contactado"

                            $(page).attr("id","not_page2_contactado");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_contactado");
                            $("#not_page2_contactado").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_contactado"
                            button = "#not_button1_contactado"
                    
                            $(page).attr("id","page2_contactado");
                            $(button).attr("onclick","cambiar_pagina_contactado(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_contactado");
                            $("#page2_contactado").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_contactado"
                            button = "#button" + pagina_anterior + "_contactado"
                    
                            $(page).attr("id","page" + pagina_posterior + "_contactado");
                            $(button).attr("onclick","cambiar_pagina_contactado(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_contactado");
                            
                            if (pagina_posterior == pagina_actual_contactado){
                                $("#page" + pagina_posterior + "_contactado").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_contactado * 5) + 1
                    min_pag = (rango_pagina_contactado * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_contactado"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_contactado = 1;

                    rango_pagina_contactado = 1
                    new_max_pag = (rango_pagina_contactado * 5) + 1

                    $("#button_avanzar_contactado").removeClass("disabled");
                    $("#button_retrasar_contactado").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_contactado"
                            button = "#button" + pagina_anterior + "_contactado"
                    
                            $(page).attr("id","page1_contactado");
                            $(button).attr("onclick","cambiar_pagina_contactado(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_contactado");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_contactado"
                            button = "#button" + pagina_anterior + "_contactado"
                    
                            $(page).attr("id","page" + pagina_posterior + "_contactado");
                            $(button).attr("onclick","cambiar_pagina_contactado(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_contactado");
                            
                            if (pagina_posterior == pagina_actual_contactado){
                                $("#page" + pagina_posterior + "_contactado").addClass("active");
                            }
                        }
                    }
                    page = "#page1_contactado"
                    $(page).addClass("active");
                }
            }
          })
    }




    function retrasar_paginas_contactado(){
        max_pag = Math.round((rango_pagina_contactado * 5))
        max_pag_for = (rango_pagina_contactado * 5) + 1
        min_pag = (rango_pagina_contactado * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_contactado"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_contactado"
            button = "#button" + pagina_anterior + "_contactado"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_contactado");
            $(button).attr("onclick","cambiar_pagina_contactado(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_contactado");

            if (pagina_posterior == pagina_actual_contactado){
                $("#page" + pagina_posterior + "_contactado").addClass("active");
            }
            
        }
        rango_pagina_contactado = parseFloat((rango_pagina_contactado - 1).toFixed(2));
        if (rango_pagina_contactado == 1){
            $("#button_retrasar_contactado").addClass("disabled");
        }
        else if ($("#not_page1_contactado").length > 0 && rango_pagina_contactado >= 1 && rango_pagina_contactado < 3) {
            $("#button_retrasar_contactado").addClass("disabled");
        }
        else if (rango_pagina_contactado == Math.round(((cantidad_contactado_pag) / 5))){
            $("#button_avanzar_contactado").addClass("disabled");
        }
        else if (rango_pagina_contactado == (cantidad_contactado_pag) / 5){
            $("#button_avanzar_contactado").addClass("disabled");
        }
        else {
            $("#button_retrasar_contactado").removeClass("disabled");
            $("#button_avanzar_contactado").removeClass("disabled");
        }
    }

    function avanzar_paginas_contactado(){
        max_pag = Math.round((rango_pagina_contactado * 5))
        max_pag_for = (rango_pagina_contactado * 5) + 1
        min_pag = (rango_pagina_contactado * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_contactado"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_contactado"
            button = "#button" + pagina_anterior + "_contactado"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_contactado");
            $(button).attr("onclick","cambiar_pagina_contactado(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_contactado");

            if (pagina_posterior == pagina_actual_contactado){
                $("#page" + pagina_posterior + "_contactado").addClass("active");
            }

            
        }
        rango_pagina_contactado = parseFloat((rango_pagina_contactado + 1).toFixed(2));
        if (rango_pagina_contactado == 1){
            $("#button_retrasar_contactado").addClass("disabled");
        }
        else if ($("#not_page1_contactado").length > 0 && rango_pagina_contactado >= 1 && rango_pagina_contactado < 3) {
            $("#button_retrasar_contactado").addClass("disabled");
        }
        else if (rango_pagina_contactado == Math.round(((cantidad_contactado_pag) / 5))){
            $("#button_avanzar_contactado").addClass("disabled");
        }
        else if (rango_pagina_contactado == (cantidad_contactado_pag) / 5){
            $("#button_avanzar_contactado").addClass("disabled");
        }
        else {
            $("#button_retrasar_contactado").removeClass("disabled");
            $("#button_avanzar_contactado").removeClass("disabled");
        }

    }

    function cambiar_pagina_contactado(pagina){

        var origen_lead_contactado = $("#origen_lead_contactado").val();
        var respuesta_contactado = $("#respuesta_contactado").val();
        var estado_contactado = $("#estado_contactado").val();
        var asesor_contactado = $("#asesor_contactado").val();
        var sala_contactado = $("#sala_contactado").val();
        var marca_contactado = $("#marca_contactado").val();
        var modelo_contactado = $("#modelo_contactado").val();
        var desde_contactado = $("#desde_contactado").val();
        var hasta_contactado = $("#hasta_contactado").val();
        var search_contactado = $("#search_contactado").val();

        data = {}
        data.if_filtrar_contactado = if_filtrar_contactado
        data.pages_contactado = pagina
        data.origen_lead_contactado = origen_lead_contactado
        data.respuesta_contactado = respuesta_contactado
        data.estado_contactado = estado_contactado
        data.asesor_contactado = asesor_contactado
        data.sala_contactado = sala_contactado
        data.marca_contactado = marca_contactado
        data.modelo_contactado = modelo_contactado
        data.desde_contactado = desde_contactado
        data.hasta_contactado = hasta_contactado
        data.search_contactado = search_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableT > tbody').empty();
                max_pag = (rango_pagina_contactado * 5) + 1
                min_pag = (rango_pagina_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableT > tbody').append(fila);
                })
                page = "#page" + pagina + "_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_contactado"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_contactado = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_contactado(pagina){

        var origen_lead_contactado = $("#origen_lead_contactado").val();
        var respuesta_contactado = $("#respuesta_contactado").val();
        var estado_contactado = $("#estado_contactado").val();
        var asesor_contactado = $("#asesor_contactado").val();
        var sala_contactado = $("#sala_contactado").val();
        var marca_contactado = $("#marca_contactado").val();
        var modelo_contactado = $("#modelo_contactado").val();
        var desde_contactado = $("#desde_contactado").val();
        var hasta_contactado = $("#hasta_contactado").val();
        var search_contactado = $("#search_contactado").val();

        data = {}
        data.pages_contactado = pagina
        data.if_filtrar_contactado = if_filtrar_contactado
        data.pages_contactado = pagina
        data.origen_lead_contactado = origen_lead_contactado
        data.respuesta_contactado = respuesta_contactado
        data.estado_contactado = estado_contactado
        data.asesor_contactado = asesor_contactado
        data.sala_contactado = sala_contactado
        data.marca_contactado = marca_contactado
        data.modelo_contactado = modelo_contactado
        data.desde_contactado = desde_contactado
        data.hasta_contactado = hasta_contactado
        data.search_contactado = search_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableT > tbody').empty();
                max_pag = (rango_pagina_contactado * 5) + 1
                min_pag = (rango_pagina_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableT > tbody').append(fila);
                })
                page = "#page" + pagina + "_contactado"
                button = "#button" + pagina + "_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_contactado"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_contactado(" + pagina + ");");
                pagina_actual_contactado = pagina;

                rango_pagina_contactado = (cantidad_contactado_pag) / 5
                new_max_pag = (rango_pagina_contactado * 5) + 1
                $("#button_retrasar_contactado").removeClass("disabled");
                $("#button_avanzar_contactado").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_contactado"
                        button = "#not_button2_contactado"

                        $(page).attr("id","page" + pagina_posterior + "_contactado");
                        $(button).attr("onclick","cambiar_pagina_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_contactado");
                        $("#page" + pagina_posterior + "_contactado").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_contactado"
                        button = "#button" + pagina_anterior + "_contactado"
                
                        $(page).attr("id","not_page1_contactado");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_contactado");
                        $("#not_page1_contactado").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_contactado"
                        button = "#button" + pagina_anterior + "_contactado"
                
                        $(page).attr("id","page1_contactado");
                        $(button).attr("onclick","cambiar_primera_pagina_contactado(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_contactado");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_contactado"
                        button = "#button" + pagina_anterior + "_contactado"
                
                        $(page).attr("id","page" + pagina_posterior + "_contactado");
                        $(button).attr("onclick","cambiar_pagina_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_contactado");
                        
                        if (pagina_posterior == pagina_actual_contactado){
                            $("#page" + pagina_posterior + "_contactado").addClass("active");
                        }
                    }
                }
                if (rango_pagina_no_contactado == 1){
                    $("#button_retrasar_no_contactado").addClass("disabled");
                }
                else if ($("#not_page1_contactado").length > 0 && rango_pagina_contactado >= 1 && rango_pagina_contactado < 3) {
                    $("#button_retrasar_no_contactado").addClass("disabled");
                }
                else if (rango_pagina_no_contactado == Math.round(((cantidad_no_contactado_pag) / 5))){
                    $("#button_avanzar_no_contactado").addClass("disabled");
                }
                else if (rango_pagina_no_contactado == (cantidad_no_contactado_pag) / 5){
                    $("#button_avanzar_no_contactado").addClass("disabled");
                }
                else {
                    $("#button_retrasar_no_contactado").removeClass("disabled");
                    $("#button_avanzar_no_contactado").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_contactado(pagina){

        var origen_lead_contactado = $("#origen_lead_contactado").val();
        var respuesta_contactado = $("#respuesta_contactado").val();
        var estado_contactado = $("#estado_contactado").val();
        var asesor_contactado = $("#asesor_contactado").val();
        var sala_contactado = $("#sala_contactado").val();
        var marca_contactado = $("#marca_contactado").val();
        var modelo_contactado = $("#modelo_contactado").val();
        var desde_contactado = $("#desde_contactado").val();
        var hasta_contactado = $("#hasta_contactado").val();
        var search_contactado = $("#search_contactado").val();

        data = {}
        data.pages_contactado = pagina
        data.if_filtrar_contactado = if_filtrar_contactado
        data.pages_contactado = pagina
        data.origen_lead_contactado = origen_lead_contactado
        data.respuesta_contactado = respuesta_contactado
        data.estado_contactado = estado_contactado
        data.asesor_contactado = asesor_contactado
        data.sala_contactado = sala_contactado
        data.marca_contactado = marca_contactado
        data.modelo_contactado = modelo_contactado
        data.desde_contactado = desde_contactado
        data.hasta_contactado = hasta_contactado
        data.search_contactado = search_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableT > tbody').empty();
                max_pag = (rango_pagina_contactado * 5) + 1
                min_pag = (rango_pagina_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableT > tbody').append(fila);
                })
                page = "#page" + pagina + "_contactado"
                button = "#button" + pagina + "_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_contactado"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_contactado(1);");
                pagina_actual_contactado = pagina;

                rango_pagina_contactado = 1
                new_max_pag = (rango_pagina_contactado * 5) + 1
                $("#button_avanzar_contactado").removeClass("disabled");
                $("#button_retrasar_contactado").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    console.log("i")
                    console.log(i)
                    console.log("pagina_anterior")
                    console.log(pagina_anterior)
                    console.log("pagina_posterior")
                    console.log(pagina_posterior)
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_contactado"
                        button = "#button" + pagina_anterior + "_contactado"

                        $(page).attr("id","page" + cantidad_contactado_pag + "_contactado");
                        $(button).attr("onclick","cambiar_ultima_pagina_contactado(" + cantidad_contactado_pag + ");");
                        $(button).text("" + cantidad_contactado_pag + "");
                        $(button).attr("id","button" + cantidad_contactado_pag + "_contactado");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_contactado"
                        button = "#button" + pagina_anterior + "_contactado"

                        $(page).attr("id","not_page2_contactado");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_contactado");
                        $("#not_page2_contactado").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_contactado"
                        button = "#not_button1_contactado"
                
                        $(page).attr("id","page2_contactado");
                        $(button).attr("onclick","cambiar_pagina_contactado(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_contactado");
                        $("#page2_contactado").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_contactado"
                        button = "#button" + pagina_anterior + "_contactado"
                
                        $(page).attr("id","page" + pagina_posterior + "_contactado");
                        $(button).attr("onclick","cambiar_pagina_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_contactado");
                        
                        if (pagina_posterior == pagina_actual_contactado){
                            $("#page" + pagina_posterior + "_contactado").addClass("active");
                        }
                    }
                }
              }
          })

    }




























    
    var if_filtrar_seguimiento = false;
    var rango_pagina_seguimiento = 1;
    var pagina_actual_seguimiento = 1;
    var cantidad_seguimiento_pag = {{cantidad_seguimiento_pag}};

    function filtrar_informacion_seguimiento(){
        var origen_lead_seguimiento = $("#origen_lead_seguimiento").val();
        var respuesta_seguimiento = $("#respuesta_seguimiento").val();
        var estado_seguimiento = $("#estado_seguimiento").val();
        var asesor_seguimiento = $("#asesor_seguimiento").val();
        var sala_seguimiento = $("#sala_seguimiento").val();
        var marca_seguimiento = $("#marca_seguimiento").val();
        var modelo_seguimiento = $("#modelo_seguimiento").val();
        var desde_seguimiento = $("#desde_seguimiento").val();
        var hasta_seguimiento = $("#hasta_seguimiento").val();
        var search_seguimiento = $("#search_seguimiento").val();

        data = {}
        data.if_filtrar_seguimiento = if_filtrar_seguimiento
        data.filtrar_seguimiento = true
        data.origen_lead_seguimiento = origen_lead_seguimiento
        data.respuesta_seguimiento = respuesta_seguimiento
        data.estado_seguimiento = estado_seguimiento
        data.asesor_seguimiento = asesor_seguimiento
        data.sala_seguimiento = sala_seguimiento
        data.marca_seguimiento = marca_seguimiento
        data.modelo_seguimiento = modelo_seguimiento
        data.desde_seguimiento = desde_seguimiento
        data.hasta_seguimiento = hasta_seguimiento
        data.search_seguimiento = search_seguimiento

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableO > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var marca = "";
                        var modelo = "";
                        {% for mostrado in mostrado_marcas %} 
                        if({{mostrado.lead}} == lead.id) { 
                            marca=`{{mostrado.marca}}`; 
                            modelo=`{{mostrado.modelo}}`; 
                        }
                        {% endfor %}
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + marca + `</td>`;
                            fila+=`<td>` + modelo + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                        $('#tableO > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_seguimiento_pag + "_seguimiento").hide()
                        }
                        else {
                            $("#page" + cantidad_seguimiento_pag + "_seguimiento").show()
                            $("#page" + cantidad_seguimiento_pag + "_seguimiento").attr("id","page" + lead + "_seguimiento");
                            $("#page" + lead + "_seguimiento").removeClass("active");
                            $("#button" + cantidad_seguimiento_pag + "_seguimiento").attr("onclick","cambiar_ultima_pagina_seguimiento(" + lead + ");");
                            $("#button" + cantidad_seguimiento_pag + "_seguimiento").text(lead);
                            $("#button" + cantidad_seguimiento_pag + "_seguimiento").attr("id","button" + lead + "_seguimiento");
                            cantidad_seguimiento_pag = lead;
                        }
                    }
                })
                if_filtrar_seguimiento = true;
                if ($("#not_page1_seguimiento").length > 0){
                    max_pag = (rango_pagina_seguimiento * 5) + 1
                    min_pag = (rango_pagina_seguimiento * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_seguimiento"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_seguimiento"
                    button = "#button1_seguimiento"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_seguimiento(1);");
                    pagina_actual_seguimiento = 1;
                    rango_pagina_seguimiento = 1
                    new_max_pag = (rango_pagina_seguimiento * 5) + 1

                    $("#button_avanzar_seguimiento").removeClass("disabled");
                    $("#button_retrasar_seguimiento").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_seguimiento"
                            button = "#button" + pagina_anterior + "_seguimiento"

                            $(page).attr("id","page" + cantidad_seguimiento_pag + "_seguimiento");
                            $(button).attr("onclick","cambiar_ultima_pagina_seguimiento(" + cantidad_seguimiento_pag + ");");
                            $(button).text("" + cantidad_seguimiento_pag + "");
                            $(button).attr("id","button" + cantidad_seguimiento_pag + "_seguimiento");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_seguimiento"
                            button = "#button" + pagina_anterior + "_seguimiento"

                            $(page).attr("id","not_page2_seguimiento");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_seguimiento");
                            $("#not_page2_seguimiento").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_seguimiento"
                            button = "#not_button1_seguimiento"
                    
                            $(page).attr("id","page2_seguimiento");
                            $(button).attr("onclick","cambiar_pagina_seguimiento(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_seguimiento");
                            $("#page2_seguimiento").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_seguimiento"
                            button = "#button" + pagina_anterior + "_seguimiento"
                    
                            $(page).attr("id","page" + pagina_posterior + "_seguimiento");
                            $(button).attr("onclick","cambiar_pagina_seguimiento(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_seguimiento");
                            
                            if (pagina_posterior == pagina_actual_seguimiento){
                                $("#page" + pagina_posterior + "_seguimiento").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_seguimiento * 5) + 1
                    min_pag = (rango_pagina_seguimiento * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_seguimiento"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_seguimiento = 1;

                    rango_pagina_seguimiento = 1
                    new_max_pag = (rango_pagina_seguimiento * 5) + 1

                    $("#button_avanzar_seguimiento").removeClass("disabled");
                    $("#button_retrasar_seguimiento").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_seguimiento"
                            button = "#button" + pagina_anterior + "_seguimiento"
                    
                            $(page).attr("id","page1_seguimiento");
                            $(button).attr("onclick","cambiar_pagina_seguimiento(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_seguimiento");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_seguimiento"
                            button = "#button" + pagina_anterior + "_seguimiento"
                    
                            $(page).attr("id","page" + pagina_posterior + "_seguimiento");
                            $(button).attr("onclick","cambiar_pagina_seguimiento(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_seguimiento");
                            
                            if (pagina_posterior == pagina_actual_seguimiento){
                                $("#page" + pagina_posterior + "_seguimiento").addClass("active");
                            }
                        }
                    }
                    page = "#page1_seguimiento"
                    $(page).addClass("active");
                }
            }
          })
    }




    function retrasar_paginas_seguimiento(){
        max_pag = Math.round((rango_pagina_seguimiento * 5))
        max_pag_for = (rango_pagina_seguimiento * 5) + 1
        min_pag = (rango_pagina_seguimiento * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_seguimiento"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_seguimiento"
            button = "#button" + pagina_anterior + "_seguimiento"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_seguimiento");
            $(button).attr("onclick","cambiar_pagina_seguimiento(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_seguimiento");

            if (pagina_posterior == pagina_actual_seguimiento){
                $("#page" + pagina_posterior + "_seguimiento").addClass("active");
            }
            
        }
        rango_pagina_seguimiento = parseFloat((rango_pagina_seguimiento - 1).toFixed(2));
        if (rango_pagina_seguimiento == 1){
            $("#button_retrasar_seguimiento").addClass("disabled");
        }
        else if ($("#not_page1_seguimiento").length > 0 && rango_pagina_seguimiento >= 1 && rango_pagina_seguimiento < 3) {
            $("#button_retrasar_seguimiento").addClass("disabled");
        }
        else if (rango_pagina_seguimiento == Math.round(((cantidad_seguimiento_pag) / 5))){
            $("#button_avanzar_seguimiento").addClass("disabled");
        }
        else if (rango_pagina_seguimiento == (cantidad_seguimiento_pag) / 5){
            $("#button_avanzar_seguimiento").addClass("disabled");
        }
        else {
            $("#button_retrasar_seguimiento").removeClass("disabled");
            $("#button_avanzar_seguimiento").removeClass("disabled");
        }
    }

    function avanzar_paginas_seguimiento(){
        max_pag = Math.round((rango_pagina_seguimiento * 5))
        max_pag_for = (rango_pagina_seguimiento * 5) + 1
        min_pag = (rango_pagina_seguimiento * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_seguimiento"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_seguimiento"
            button = "#button" + pagina_anterior + "_seguimiento"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_seguimiento");
            $(button).attr("onclick","cambiar_pagina_seguimiento(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_seguimiento");

            if (pagina_posterior == pagina_actual_seguimiento){
                $("#page" + pagina_posterior + "_seguimiento").addClass("active");
            }

            
        }
        rango_pagina_seguimiento = parseFloat((rango_pagina_seguimiento + 1).toFixed(2));
        if (rango_pagina_seguimiento == 1){
            $("#button_retrasar_seguimiento").addClass("disabled");
        }
        else if ($("#not_page1_seguimiento").length > 0 && rango_pagina_seguimiento >= 1 && rango_pagina_seguimiento < 3) {
            $("#button_retrasar_seguimiento").addClass("disabled");
        }
        else if (rango_pagina_seguimiento == Math.round(((cantidad_seguimiento_pag) / 5))){
            $("#button_avanzar_seguimiento").addClass("disabled");
        }
        else if (rango_pagina_seguimiento == (cantidad_seguimiento_pag) / 5){
            $("#button_avanzar_seguimiento").addClass("disabled");
        }
        else {
            $("#button_retrasar_seguimiento").removeClass("disabled");
            $("#button_avanzar_seguimiento").removeClass("disabled");
        }

    }

    function cambiar_pagina_seguimiento(pagina){

        var origen_lead_seguimiento = $("#origen_lead_seguimiento").val();
        var respuesta_seguimiento = $("#respuesta_seguimiento").val();
        var estado_seguimiento = $("#estado_seguimiento").val();
        var asesor_seguimiento = $("#asesor_seguimiento").val();
        var sala_seguimiento = $("#sala_seguimiento").val();
        var marca_seguimiento = $("#marca_seguimiento").val();
        var modelo_seguimiento = $("#modelo_seguimiento").val();
        var desde_seguimiento = $("#desde_seguimiento").val();
        var hasta_seguimiento = $("#hasta_seguimiento").val();
        var search_seguimiento = $("#search_seguimiento").val();

        data = {}
        data.if_filtrar_seguimiento = if_filtrar_seguimiento
        data.pages_seguimiento = pagina
        data.origen_lead_seguimiento = origen_lead_seguimiento
        data.respuesta_seguimiento = respuesta_seguimiento
        data.estado_seguimiento = estado_seguimiento
        data.asesor_seguimiento = asesor_seguimiento
        data.sala_seguimiento = sala_seguimiento
        data.marca_seguimiento = marca_seguimiento
        data.modelo_seguimiento = modelo_seguimiento
        data.desde_seguimiento = desde_seguimiento
        data.hasta_seguimiento = hasta_seguimiento
        data.search_seguimiento = search_seguimiento
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableO > tbody').empty();
                max_pag = (rango_pagina_seguimiento * 5) + 1
                min_pag = (rango_pagina_seguimiento * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableO > tbody').append(fila);
                })
                page = "#page" + pagina + "_seguimiento"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_seguimiento"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_seguimiento = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_seguimiento(pagina){

        var origen_lead_seguimiento = $("#origen_lead_seguimiento").val();
        var respuesta_seguimiento = $("#respuesta_seguimiento").val();
        var estado_seguimiento = $("#estado_seguimiento").val();
        var asesor_seguimiento = $("#asesor_seguimiento").val();
        var sala_seguimiento = $("#sala_seguimiento").val();
        var marca_seguimiento = $("#marca_seguimiento").val();
        var modelo_seguimiento = $("#modelo_seguimiento").val();
        var desde_seguimiento = $("#desde_seguimiento").val();
        var hasta_seguimiento = $("#hasta_seguimiento").val();
        var search_seguimiento = $("#search_seguimiento").val();

        data = {}
        data.pages_seguimiento = pagina
        data.if_filtrar_seguimiento = if_filtrar_seguimiento
        data.pages_seguimiento = pagina
        data.origen_lead_seguimiento = origen_lead_seguimiento
        data.respuesta_seguimiento = respuesta_seguimiento
        data.estado_seguimiento = estado_seguimiento
        data.asesor_seguimiento = asesor_seguimiento
        data.sala_seguimiento = sala_seguimiento
        data.marca_seguimiento = marca_seguimiento
        data.modelo_seguimiento = modelo_seguimiento
        data.desde_seguimiento = desde_seguimiento
        data.hasta_seguimiento = hasta_seguimiento
        data.search_seguimiento = search_seguimiento
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableO > tbody').empty();
                max_pag = (rango_pagina_seguimiento * 5) + 1
                min_pag = (rango_pagina_seguimiento * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableO > tbody').append(fila);
                })
                page = "#page" + pagina + "_seguimiento"
                button = "#button" + pagina + "_seguimiento"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_seguimiento"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_seguimiento(" + pagina + ");");
                pagina_actual_seguimiento = pagina;

                rango_pagina_seguimiento = (cantidad_seguimiento_pag) / 5
                new_max_pag = (rango_pagina_seguimiento * 5) + 1
                $("#button_retrasar_seguimiento").removeClass("disabled");
                $("#button_avanzar_seguimiento").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_seguimiento"
                        button = "#not_button2_seguimiento"
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)

                        $(page).attr("id","page" + pagina_posterior + "_seguimiento");
                        $(button).attr("onclick","cambiar_pagina_seguimiento(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_seguimiento");
                        $("#page" + pagina_posterior + "_seguimiento").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_seguimiento"
                        button = "#button" + pagina_anterior + "_seguimiento"
                
                        $(page).attr("id","not_page1_seguimiento");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_seguimiento");
                        $("#not_page1_seguimiento").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_seguimiento"
                        button = "#button" + pagina_anterior + "_seguimiento"
                
                        $(page).attr("id","page1_seguimiento");
                        $(button).attr("onclick","cambiar_primera_pagina_seguimiento(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_seguimiento");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_seguimiento"
                        button = "#button" + pagina_anterior + "_seguimiento"
                
                        $(page).attr("id","page" + pagina_posterior + "_seguimiento");
                        $(button).attr("onclick","cambiar_pagina_seguimiento(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_seguimiento");
                        
                        if (pagina_posterior == pagina_actual_seguimiento){
                            $("#page" + pagina_posterior + "_seguimiento").addClass("active");
                        }
                    }
                }
                if (rango_pagina_seguimiento == 1){
                    $("#button_retrasar_seguimiento").addClass("disabled");
                }
                else if ($("#not_page1_seguimiento").length > 0 && rango_pagina_seguimiento >= 1 && rango_pagina_seguimiento < 3) {
                    $("#button_retrasar_seguimiento").addClass("disabled");
                }
                else if (rango_pagina_seguimiento == Math.round(((cantidad_seguimiento_pag) / 5))){
                    $("#button_avanzar_seguimiento").addClass("disabled");
                }
                else if (rango_pagina_seguimiento == (cantidad_seguimiento_pag) / 5){
                    $("#button_avanzar_seguimiento").addClass("disabled");
                }
                else {
                    $("#button_retrasar_seguimiento").removeClass("disabled");
                    $("#button_avanzar_seguimiento").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_seguimiento(pagina){

        var origen_lead_seguimiento = $("#origen_lead_seguimiento").val();
        var respuesta_seguimiento = $("#respuesta_seguimiento").val();
        var estado_seguimiento = $("#estado_seguimiento").val();
        var asesor_seguimiento = $("#asesor_seguimiento").val();
        var sala_seguimiento = $("#sala_seguimiento").val();
        var marca_seguimiento = $("#marca_seguimiento").val();
        var modelo_seguimiento = $("#modelo_seguimiento").val();
        var desde_seguimiento = $("#desde_seguimiento").val();
        var hasta_seguimiento = $("#hasta_seguimiento").val();
        var search_seguimiento = $("#search_seguimiento").val();

        data = {}
        data.pages_seguimiento = pagina
        data.if_filtrar_seguimiento = if_filtrar_seguimiento
        data.pages_seguimiento = pagina
        data.origen_lead_seguimiento = origen_lead_seguimiento
        data.respuesta_seguimiento = respuesta_seguimiento
        data.estado_seguimiento = estado_seguimiento
        data.asesor_seguimiento = asesor_seguimiento
        data.sala_seguimiento = sala_seguimiento
        data.marca_seguimiento = marca_seguimiento
        data.modelo_seguimiento = modelo_seguimiento
        data.desde_seguimiento = desde_seguimiento
        data.hasta_seguimiento = hasta_seguimiento
        data.search_seguimiento = search_seguimiento
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableO > tbody').empty();
                max_pag = (rango_pagina_seguimiento * 5) + 1
                min_pag = (rango_pagina_seguimiento * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableO > tbody').append(fila);
                })
                page = "#page" + pagina + "_seguimiento"
                button = "#button" + pagina + "_seguimiento"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_seguimiento"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_seguimiento(1);");
                pagina_actual_seguimiento = pagina;

                rango_pagina_seguimiento = 1
                new_max_pag = (rango_pagina_seguimiento * 5) + 1
                $("#button_avanzar_seguimiento").removeClass("disabled");
                $("#button_retrasar_seguimiento").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    console.log("i")
                    console.log(i)
                    console.log("pagina_anterior")
                    console.log(pagina_anterior)
                    console.log("pagina_posterior")
                    console.log(pagina_posterior)
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_seguimiento"
                        button = "#button" + pagina_anterior + "_seguimiento"

                        $(page).attr("id","page" + cantidad_seguimiento_pag + "_seguimiento");
                        $(button).attr("onclick","cambiar_ultima_pagina_seguimiento(" + cantidad_seguimiento_pag + ");");
                        $(button).text("" + cantidad_seguimiento_pag + "");
                        $(button).attr("id","button" + cantidad_seguimiento_pag + "_seguimiento");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_seguimiento"
                        button = "#button" + pagina_anterior + "_seguimiento"

                        $(page).attr("id","not_page2_seguimiento");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_seguimiento");
                        $("#not_page2_seguimiento").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_seguimiento"
                        button = "#not_button1_seguimiento"
                
                        $(page).attr("id","page2_seguimiento");
                        $(button).attr("onclick","cambiar_pagina_seguimiento(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_seguimiento");
                        $("#page2_seguimiento").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_seguimiento"
                        button = "#button" + pagina_anterior + "_seguimiento"
                
                        $(page).attr("id","page" + pagina_posterior + "_seguimiento");
                        $(button).attr("onclick","cambiar_pagina_seguimiento(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_seguimiento");
                        
                        if (pagina_posterior == pagina_actual_seguimiento){
                            $("#page" + pagina_posterior + "_seguimiento").addClass("active");
                        }
                    }
                }
              }
          })

    }



























    var if_filtrar_conversion = false;
    var rango_pagina_conversion = 1;
    var pagina_actual_conversion = 1;
    var cantidad_conversion_pag = {{cantidad_conversion_pag}};

    function filtrar_informacion_conversion(){
        var origen_lead_conversion = $("#origen_lead_conversion").val();
        var respuesta_conversion = $("#respuesta_conversion").val();
        var estado_conversion = $("#estado_conversion").val();
        var asesor_conversion = $("#asesor_conversion").val();
        var sala_conversion = $("#sala_conversion").val();
        var marca_conversion = $("#marca_conversion").val();
        var modelo_conversion = $("#modelo_conversion").val();
        var desde_conversion = $("#desde_conversion").val();
        var hasta_conversion = $("#hasta_conversion").val();
        var search_conversion = $("#search_conversion").val();

        data = {}
        data.if_filtrar_conversion = if_filtrar_conversion
        data.filtrar_conversion = true
        data.origen_lead_conversion = origen_lead_conversion
        data.respuesta_conversion = respuesta_conversion
        data.estado_conversion = estado_conversion
        data.asesor_conversion = asesor_conversion
        data.sala_conversion = sala_conversion
        data.marca_conversion = marca_conversion
        data.modelo_conversion = modelo_conversion
        data.desde_conversion = desde_conversion
        data.hasta_conversion = hasta_conversion
        data.search_conversion = search_conversion

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableP > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var marca = "";
                        var modelo = "";
                        {% for mostrado in mostrado_marcas %} 
                        if({{mostrado.lead}} == lead.id) { 
                            marca=`{{mostrado.marca}}`; 
                            modelo=`{{mostrado.modelo}}`; 
                        }
                        {% endfor %}
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + marca + `</td>`;
                            fila+=`<td>` + modelo + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                        $('#tableP > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_conversion_pag + "_conversion").hide()
                        }
                        else {
                            $("#page" + cantidad_conversion_pag + "_conversion").show()
                            $("#page" + cantidad_conversion_pag + "_conversion").attr("id","page" + lead + "_conversion");
                            $("#page" + lead + "_conversion").removeClass("active");
                            $("#button" + cantidad_conversion_pag + "_conversion").attr("onclick","cambiar_ultima_pagina_conversion(" + lead + ");");
                            $("#button" + cantidad_conversion_pag + "_conversion").text(lead);
                            $("#button" + cantidad_conversion_pag + "_conversion").attr("id","button" + lead + "_conversion");
                            cantidad_conversion_pag = lead;
                        }
                    }
                })
                if_filtrar_conversion = true;
                if ($("#not_page1_conversion").length > 0){
                    max_pag = (rango_pagina_conversion * 5) + 1
                    min_pag = (rango_pagina_conversion * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_conversion"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_conversion"
                    button = "#button1_conversion"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_conversion(1);");
                    pagina_actual_conversion = 1;
                    rango_pagina_conversion = 1
                    new_max_pag = (rango_pagina_conversion * 5) + 1

                    $("#button_avanzar_conversion").removeClass("disabled");
                    $("#button_retrasar_conversion").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_conversion"
                            button = "#button" + pagina_anterior + "_conversion"

                            $(page).attr("id","page" + cantidad_conversion_pag + "_conversion");
                            $(button).attr("onclick","cambiar_ultima_pagina_conversion(" + cantidad_conversion_pag + ");");
                            $(button).text("" + cantidad_conversion_pag + "");
                            $(button).attr("id","button" + cantidad_conversion_pag + "_conversion");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_conversion"
                            button = "#button" + pagina_anterior + "_conversion"

                            $(page).attr("id","not_page2_conversion");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_conversion");
                            $("#not_page2_conversion").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_conversion"
                            button = "#not_button1_conversion"
                    
                            $(page).attr("id","page2_conversion");
                            $(button).attr("onclick","cambiar_pagina_conversion(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_conversion");
                            $("#page2_conversion").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_conversion"
                            button = "#button" + pagina_anterior + "_conversion"
                    
                            $(page).attr("id","page" + pagina_posterior + "_conversion");
                            $(button).attr("onclick","cambiar_pagina_conversion(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_conversion");
                            
                            if (pagina_posterior == pagina_actual_conversion){
                                $("#page" + pagina_posterior + "_conversion").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_conversion * 5) + 1
                    min_pag = (rango_pagina_conversion * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_conversion"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_conversion = 1;

                    rango_pagina_conversion = 1
                    new_max_pag = (rango_pagina_conversion * 5) + 1

                    $("#button_avanzar_conversion").removeClass("disabled");
                    $("#button_retrasar_conversion").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_conversion"
                            button = "#button" + pagina_anterior + "_conversion"
                    
                            $(page).attr("id","page1_conversion");
                            $(button).attr("onclick","cambiar_pagina_conversion(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_conversion");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_conversion"
                            button = "#button" + pagina_anterior + "_conversion"
                    
                            $(page).attr("id","page" + pagina_posterior + "_conversion");
                            $(button).attr("onclick","cambiar_pagina_conversion(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_conversion");
                            
                            if (pagina_posterior == pagina_actual_conversion){
                                $("#page" + pagina_posterior + "_conversion").addClass("active");
                            }
                        }
                    }
                    page = "#page1_conversion"
                    $(page).addClass("active");
                }
            }
          })
    }




    function retrasar_paginas_conversion(){
        max_pag = Math.round((rango_pagina_conversion * 5))
        max_pag_for = (rango_pagina_conversion * 5) + 1
        min_pag = (rango_pagina_conversion * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_conversion"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_conversion"
            button = "#button" + pagina_anterior + "_conversion"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_conversion");
            $(button).attr("onclick","cambiar_pagina_conversion(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_conversion");

            if (pagina_posterior == pagina_actual_conversion){
                $("#page" + pagina_posterior + "_conversion").addClass("active");
            }
            
        }
        rango_pagina_conversion = parseFloat((rango_pagina_conversion - 1).toFixed(2));
        if (rango_pagina_conversion == 1){
            $("#button_retrasar_conversion").addClass("disabled");
        }
        else if ($("#not_page1_conversion").length > 0 && rango_pagina_conversion >= 1 && rango_pagina_conversion < 3) {
            $("#button_retrasar_conversion").addClass("disabled");
        }
        else if (rango_pagina_conversion == Math.round(((cantidad_conversion_pag) / 5))){
            $("#button_avanzar_conversion").addClass("disabled");
        }
        else if (rango_pagina_conversion == (cantidad_conversion_pag) / 5){
            $("#button_avanzar_conversion").addClass("disabled");
        }
        else {
            $("#button_retrasar_conversion").removeClass("disabled");
            $("#button_avanzar_conversion").removeClass("disabled");
        }
    }

    function avanzar_paginas_conversion(){
        max_pag = Math.round((rango_pagina_conversion * 5))
        max_pag_for = (rango_pagina_conversion * 5) + 1
        min_pag = (rango_pagina_conversion * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_conversion"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_conversion"
            button = "#button" + pagina_anterior + "_conversion"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_conversion");
            $(button).attr("onclick","cambiar_pagina_conversion(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_conversion");

            if (pagina_posterior == pagina_actual_conversion){
                $("#page" + pagina_posterior + "_conversion").addClass("active");
            }

            
        }
        rango_pagina_conversion = parseFloat((rango_pagina_conversion + 1).toFixed(2));
        if (rango_pagina_conversion == 1){
            $("#button_retrasar_conversion").addClass("disabled");
        }
        else if ($("#not_page1_conversion").length > 0 && rango_pagina_conversion >= 1 && rango_pagina_conversion < 3) {
            $("#button_retrasar_conversion").addClass("disabled");
        }
        else if (rango_pagina_conversion == Math.round(((cantidad_conversion_pag) / 5))){
            $("#button_avanzar_conversion").addClass("disabled");
        }
        else if (rango_pagina_conversion == (cantidad_conversion_pag) / 5){
            $("#button_avanzar_conversion").addClass("disabled");
        }
        else {
            console.log("entra skkererjekrje")
            $("#button_retrasar_conversion").removeClass("disabled");
            $("#button_avanzar_conversion").removeClass("disabled");
        }

    }

    function cambiar_pagina_conversion(pagina){

        var origen_lead_conversion = $("#origen_lead_conversion").val();
        var respuesta_conversion = $("#respuesta_conversion").val();
        var estado_conversion = $("#estado_conversion").val();
        var asesor_conversion = $("#asesor_conversion").val();
        var sala_conversion = $("#sala_conversion").val();
        var marca_conversion = $("#marca_conversion").val();
        var modelo_conversion = $("#modelo_conversion").val();
        var desde_conversion = $("#desde_conversion").val();
        var hasta_conversion = $("#hasta_conversion").val();
        var search_conversion = $("#search_conversion").val();

        data = {}
        data.if_filtrar_conversion = if_filtrar_conversion
        data.pages_conversion = pagina
        data.origen_lead_conversion = origen_lead_conversion
        data.respuesta_conversion = respuesta_conversion
        data.estado_conversion = estado_conversion
        data.asesor_conversion = asesor_conversion
        data.sala_conversion = sala_conversion
        data.marca_conversion = marca_conversion
        data.modelo_conversion = modelo_conversion
        data.desde_conversion = desde_conversion
        data.hasta_conversion = hasta_conversion
        data.search_conversion = search_conversion
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableP > tbody').empty();
                max_pag = (rango_pagina_conversion * 5) + 1
                min_pag = (rango_pagina_conversion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableP > tbody').append(fila);
                })
                page = "#page" + pagina + "_conversion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_conversion"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_conversion = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_conversion(pagina){

        var origen_lead_conversion = $("#origen_lead_conversion").val();
        var respuesta_conversion = $("#respuesta_conversion").val();
        var estado_conversion = $("#estado_conversion").val();
        var asesor_conversion = $("#asesor_conversion").val();
        var sala_conversion = $("#sala_conversion").val();
        var marca_conversion = $("#marca_conversion").val();
        var modelo_conversion = $("#modelo_conversion").val();
        var desde_conversion = $("#desde_conversion").val();
        var hasta_conversion = $("#hasta_conversion").val();
        var search_conversion = $("#search_conversion").val();

        data = {}
        data.pages_conversion = pagina
        data.if_filtrar_conversion = if_filtrar_conversion
        data.pages_conversion = pagina
        data.origen_lead_conversion = origen_lead_conversion
        data.respuesta_conversion = respuesta_conversion
        data.estado_conversion = estado_conversion
        data.asesor_conversion = asesor_conversion
        data.sala_conversion = sala_conversion
        data.marca_conversion = marca_conversion
        data.modelo_conversion = modelo_conversion
        data.desde_conversion = desde_conversion
        data.hasta_conversion = hasta_conversion
        data.search_conversion = search_conversion
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableP > tbody').empty();
                max_pag = (rango_pagina_conversion * 5) + 1
                min_pag = (rango_pagina_conversion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableP > tbody').append(fila);
                })
                page = "#page" + pagina + "_conversion"
                button = "#button" + pagina + "_conversion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_conversion"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_conversion(" + pagina + ");");
                pagina_actual_conversion = pagina;

                rango_pagina_conversion = (cantidad_conversion_pag) / 5
                new_max_pag = (rango_pagina_conversion * 5) + 1
                $("#button_retrasar_conversion").removeClass("disabled");
                $("#button_avanzar_conversion").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_conversion"
                        button = "#not_button2_conversion"

                        $(page).attr("id","page" + pagina_posterior + "_conversion");
                        $(button).attr("onclick","cambiar_pagina_conversion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_conversion");
                        $("#page" + pagina_posterior + "_conversion").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_conversion"
                        button = "#button" + pagina_anterior + "_conversion"
                
                        $(page).attr("id","not_page1_conversion");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_conversion");
                        $("#not_page1_conversion").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_conversion"
                        button = "#button" + pagina_anterior + "_conversion"
                
                        $(page).attr("id","page1_conversion");
                        $(button).attr("onclick","cambiar_primera_pagina_conversion(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_conversion");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_conversion"
                        button = "#button" + pagina_anterior + "_conversion"
                
                        $(page).attr("id","page" + pagina_posterior + "_conversion");
                        $(button).attr("onclick","cambiar_pagina_conversion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_conversion");
                        
                        if (pagina_posterior == pagina_actual_conversion){
                            $("#page" + pagina_posterior + "_conversion").addClass("active");
                        }
                    }
                }
                if (rango_pagina_conversion == 1){
                    $("#button_retrasar_conversion").addClass("disabled");
                }
                else if ($("#not_page1_conversion").length > 0 && rango_pagina_conversion >= 1 && rango_pagina_conversion < 3) {
                    $("#button_retrasar_conversion").addClass("disabled");
                }
                else if (rango_pagina_conversion == Math.round(((cantidad_conversion_pag) / 5))){
                    $("#button_avanzar_conversion").addClass("disabled");
                }
                else if (rango_pagina_conversion == (cantidad_conversion_pag) / 5){
                    $("#button_avanzar_conversion").addClass("disabled");
                }
                else {
                    $("#button_retrasar_conversion").removeClass("disabled");
                    $("#button_avanzar_conversion").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_conversion(pagina){

        var origen_lead_conversion = $("#origen_lead_conversion").val();
        var respuesta_conversion = $("#respuesta_conversion").val();
        var estado_conversion = $("#estado_conversion").val();
        var asesor_conversion = $("#asesor_conversion").val();
        var sala_conversion = $("#sala_conversion").val();
        var marca_conversion = $("#marca_conversion").val();
        var modelo_conversion = $("#modelo_conversion").val();
        var desde_conversion = $("#desde_conversion").val();
        var hasta_conversion = $("#hasta_conversion").val();
        var search_conversion = $("#search_conversion").val();

        data = {}
        data.pages_conversion = pagina
        data.if_filtrar_conversion = if_filtrar_conversion
        data.pages_conversion = pagina
        data.origen_lead_conversion = origen_lead_conversion
        data.respuesta_conversion = respuesta_conversion
        data.estado_conversion = estado_conversion
        data.asesor_conversion = asesor_conversion
        data.sala_conversion = sala_conversion
        data.marca_conversion = marca_conversion
        data.modelo_conversion = modelo_conversion
        data.desde_conversion = desde_conversion
        data.hasta_conversion = hasta_conversion
        data.search_conversion = search_conversion
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableP > tbody').empty();
                max_pag = (rango_pagina_conversion * 5) + 1
                min_pag = (rango_pagina_conversion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var marca = "";
                    var modelo = "";
                    {% for mostrado in mostrado_marcas %} 
                    if({{mostrado.lead}} == lead.id) { 
                        marca=`{{mostrado.marca}}`; 
                        modelo=`{{mostrado.modelo}}`; 
                    }
                    {% endfor %}
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + " " + lead.prospecto__apellido_paterno + " " + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + marca + `</td>`;
                        fila+=`<td>` + modelo + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableP > tbody').append(fila);
                })
                page = "#page" + pagina + "_conversion"
                button = "#button" + pagina + "_conversion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_conversion"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_conversion(1);");
                pagina_actual_conversion = pagina;

                rango_pagina_conversion = 1
                new_max_pag = (rango_pagina_conversion * 5) + 1
                $("#button_avanzar_conversion").removeClass("disabled");
                $("#button_retrasar_conversion").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_conversion"
                        button = "#button" + pagina_anterior + "_conversion"

                        $(page).attr("id","page" + cantidad_conversion_pag + "_conversion");
                        $(button).attr("onclick","cambiar_ultima_pagina_conversion(" + cantidad_conversion_pag + ");");
                        $(button).text("" + cantidad_conversion_pag + "");
                        $(button).attr("id","button" + cantidad_conversion_pag + "_conversion");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_conversion"
                        button = "#button" + pagina_anterior + "_conversion"

                        $(page).attr("id","not_page2_conversion");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_conversion");
                        $("#not_page2_conversion").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_conversion"
                        button = "#not_button1_conversion"
                
                        $(page).attr("id","page2_conversion");
                        $(button).attr("onclick","cambiar_pagina_conversion(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_conversion");
                        $("#page2_conversion").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_conversion"
                        button = "#button" + pagina_anterior + "_conversion"
                
                        $(page).attr("id","page" + pagina_posterior + "_conversion");
                        $(button).attr("onclick","cambiar_pagina_conversion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_conversion");
                        
                        if (pagina_posterior == pagina_actual_conversion){
                            $("#page" + pagina_posterior + "_conversion").addClass("active");
                        }
                    }
                }
              }
          })

    }







    var baseUrl = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
    var $tableCA = $('#tableF')

    $("#ContAsesor_OrigenIngreso").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Respuesta").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Estado").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Sala").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Asesor").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Marca").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Modelo").change(function () {
        getDataCA(1, 10);
    });

    function getDataCA(number, size) {
        var fechaIni1 = $("#ContAsesor_Desde").val();
        var fechaIni = '';
        if (fechaIni1 != '' && fechaIni1 != null) {
            var fechaIniS = fechaIni1.split("/");
            fechaIni = fechaIniS[2] + '-' + fechaIniS[1] + '-' + fechaIniS[0];
        }

        var fechaFin1 = $("#ContAsesor_Hasta").val();
        var fechaFin = '';
        if (fechaFin1 != '' && fechaFin1 != null) {
            var fechaFinS = fechaFin1.split("/");
            fechaFin = fechaFinS[2] + '-' + fechaFinS[1] + '-' + fechaFinS[0];
        }

        $.get(baseUrl + '/Leads/getContAsesor2/?off=' + number + '&size=' + size
            + '&Origen=' + $("#ContAsesor_OrigenIngreso").val()
            + '&Respuesta=' + $("#ContAsesor_Respuesta").val()
            + '&Estado=' + $("#ContAsesor_Estado").val()
            + '&Sala=' + $("#ContAsesor_Sala").val()
            + '&Asesor=' + $("#ContAsesor_Asesor").val()
            + '&Marca=' + $("#ContAsesor_Marca").val()
            + '&Modelo=' + $("#ContAsesor_Modelo").val()
            + '&FechaIni=' + fechaIni
            + '&FechaFin=' + fechaFin
            + '&Cadena=' + $("#ContAsesor_Cadena").val()
            , {
                offset: (number - 1) * size,
                limit: size
            }, function (res) {
                $tableCA.bootstrapTable('load', res)
            })
    }

    $(function () {
        $tableCA.on('page-change.bs.table', function (e, number, size) {
            getDataCA(number, size)
        })
        var options = $tableCA.bootstrapTable('getOptions')
        getDataCA(options.pageNumber, options.pageSize)
    })

    function exportContAsesor(params) {
        var options = $('#tableF').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function FiltrarContAsesor() {
        getDataCA(1, 10);
    }
    //function exportF(params) {
    //    var options = $('#tableF').bootstrapTable('getOptions')
    //    if (!options.pagination) {
    //        params.limit = options.totalRows
    //    }
    //    return params
    //}

    function exportT(params) {
        var options = $('#tableT').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function exportC(params) {
        var options = $('#tableC').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function FiltrarF() {
        var ini = $('#FDesde').val();
        var fin = $('#FHasta').val();

        var results = rango(ini, fin);
        //console.log("Desistidas:");
        //console.log(results);
        var array = new Array(results);
        $('#tableF').bootstrapTable('filterBy', {
            FechaIngreso: results
        })
    }

    function FiltrarT() {
        var ini = $('#TDesde').val();
        var fin = $('#THasta').val();

        var results = rango(ini, fin);
        //console.log("Concretadas:");
        //console.log(results);
        var array = new Array(results);

        $('#tableT').bootstrapTable('filterBy', {
            FechaIngreso: results
        })
    }

    function FiltrarC() {
        var ini = $('#CDesde').val();
        var fin = $('#CHasta').val();

        var results = rango(ini, fin);
        //console.log("Historial:");
        //console.log(results);
        var array = new Array(results);
        $('#tableC').bootstrapTable('filterBy', {
            FechaIngreso: results
        })
    }

    function rango(ini, fin) {
        var splitIni = ini.split('/');
        var fInicio = splitIni[1] + '/' + splitIni[0] + '/' + splitIni[2];

        var splitFin = fin.split('/');
        var fFin = splitFin[1] + '/' + splitFin[0] + '/' + splitFin[2];

        var fechaInicio = new Date(fInicio);
        var fechaFin = new Date(fFin);
        var fechas = [];

        while (fechaFin.getTime() >= fechaInicio.getTime()) {
            var dia = fechaInicio.getDate();
            var mes = (fechaInicio.getMonth() + 1);

            var d;
            var m;
            if (dia < 10)
            { d = "0" + dia; }
            else { d = dia; }

            if (mes < 10)
            { m = "0" + mes; }
            else { m = mes; }
            fechas.push(d + '/' + m + '/' + fechaInicio.getFullYear());
            fechaInicio.setDate(fechaInicio.getDate() + 1);
        }

        console.log(fechas)
        //var arreglo = fechas.join(',')
        //arreglo = "[" + arreglo + "]"
        //console.log(arreglo);
        return fechas;
    }
</script>

        <hr />
        <footer>
            <p>&copy; 2023 - Capital Network</p>
        </footer>
    </div>

    
    
    <script src="/bundles/jqueryval?v=hEGG8cMxk9p0ncdRUOJ-CnKN7NezhnPnWIvn6REucZo1"></script>


</body>
</html>
